{"ast":null,"code":"export function checkOut() {\n  const checkoutItems = [{\n    id: 1,\n    quantity: 2\n  }, {\n    id: 2,\n    quantity: 2\n  }];\n  // integrate client and server, \n  // here we make requset to our server to get us a url to checkout page\n  // Stripe-we give it info(product ids, cost, number)- to do that we send it to\n  //   our server which will give us a unique url we use to redirect user to check out\n  // next set up url on server.js\n  // fetch server url\n  fetch(\"http://localhost:4000/create-checkout-session\", {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      items: checkoutItems\n    })\n    // all this code will get res back from server which is a url, and send user to url   \n  }).then(res => {\n    console.log(res);\n    // if res is good return it in json\n    if (res.ok) return res.json();\n    console.log(\"res ok\", res.json);\n    // if res bad\n    return res.json().then(json => Promise.reject(json));\n    // json res return a url\n  }).then(_ref => {\n    let {\n      url\n    } = _ref;\n    window.location = url;\n  }).catch(e => {\n    console.error(e.error);\n  });\n}","map":{"version":3,"names":["checkOut","checkoutItems","id","quantity","fetch","method","headers","body","JSON","stringify","items","then","res","console","log","ok","json","Promise","reject","url","window","location","catch","e","error"],"sources":["/Users/kevingetz/Desktop/repos/wedding-gifts-stripe/client/src/components/checkOut.js"],"sourcesContent":["export function checkOut() {\n    const checkoutItems = [\n      { id: 1, quantity: 2 },\n      { id: 2, quantity: 2 }\n  ];\n    // integrate client and server, \n    // here we make requset to our server to get us a url to checkout page\n    // Stripe-we give it info(product ids, cost, number)- to do that we send it to\n    //   our server which will give us a unique url we use to redirect user to check out\n    // next set up url on server.js\n    // fetch server url\n    fetch(\"http://localhost:4000/create-checkout-session\", {\n      method: 'POST',\n      headers: {\n          'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n          items: checkoutItems  \n      })\n    // all this code will get res back from server which is a url, and send user to url   \n    }).then(res => {\n      console.log(res)\n      // if res is good return it in json\n      if (res.ok) return res.json()\n      console.log(\"res ok\",res.json)\n      // if res bad\n      return res.json().then(json => Promise.reject(json))\n    // json res return a url\n    }).then(({ url }) => {\n      window.location = url\n    }).catch(e => {\n        console.error(e.error)\n    })\n  }"],"mappings":"AAAA,OAAO,SAASA,QAAQ,GAAG;EACvB,MAAMC,aAAa,GAAG,CACpB;IAAEC,EAAE,EAAE,CAAC;IAAEC,QAAQ,EAAE;EAAE,CAAC,EACtB;IAAED,EAAE,EAAE,CAAC;IAAEC,QAAQ,EAAE;EAAE,CAAC,CACzB;EACC;EACA;EACA;EACA;EACA;EACA;EACAC,KAAK,CAAC,+CAA+C,EAAE;IACrDC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,cAAc,EAAE;IACpB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACjBC,KAAK,EAAET;IACX,CAAC;IACH;EACA,CAAC,CAAC,CAACU,IAAI,CAACC,GAAG,IAAI;IACbC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChB;IACA,IAAIA,GAAG,CAACG,EAAE,EAAE,OAAOH,GAAG,CAACI,IAAI,EAAE;IAC7BH,OAAO,CAACC,GAAG,CAAC,QAAQ,EAACF,GAAG,CAACI,IAAI,CAAC;IAC9B;IACA,OAAOJ,GAAG,CAACI,IAAI,EAAE,CAACL,IAAI,CAACK,IAAI,IAAIC,OAAO,CAACC,MAAM,CAACF,IAAI,CAAC,CAAC;IACtD;EACA,CAAC,CAAC,CAACL,IAAI,CAAC,QAAa;IAAA,IAAZ;MAAEQ;IAAI,CAAC;IACdC,MAAM,CAACC,QAAQ,GAAGF,GAAG;EACvB,CAAC,CAAC,CAACG,KAAK,CAACC,CAAC,IAAI;IACVV,OAAO,CAACW,KAAK,CAACD,CAAC,CAACC,KAAK,CAAC;EAC1B,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}