{"ast":null,"code":"import _objectSpread from\"/Users/kevingetz/Desktop/repos/wedding-gifts-stripe/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/kevingetz/Desktop/repos/wedding-gifts-stripe/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/kevingetz/Desktop/repos/wedding-gifts-stripe/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useContext,useState}from\"react\";import{ShoppingCart}from\"../components/ShoppingCart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShoppingCartContext=/*#__PURE__*/createContext({});export function useShoppingCart(){return useContext(ShoppingCartContext);}export function ShoppingCartProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cartItems=_useState4[0],setCartItems=_useState4[1];var cartQuantity=cartItems.reduce(function(quantity,item){return item.quantity+quantity;},0);var openCart=function openCart(){return setIsOpen(true);};var closeCart=function closeCart(){return setIsOpen(false);};function getItemQuantity(id){var _cartItems$find;return((_cartItems$find=cartItems.find(function(item){return item.id===id;}))===null||_cartItems$find===void 0?void 0:_cartItems$find.quantity)||0;};function increaseCartQuantity(id){setCartItems(function(currItems){if(currItems.find(function(item){return item.id===id;})==null){return[].concat(_toConsumableArray(currItems),[{id:id,quantity:1}]);{/* if item is not in cart, add in new item and assign quantity of 1 */}}else{return currItems.map(function(item){if(item.id===id){return _objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1});{/* if item is in cart increase quantity */}}else{return item;}});}});};function decreaseCartQuantity(id){setCartItems(function(currItems){var _currItems$find;if(((_currItems$find=currItems.find(function(item){return item.id===id;}))===null||_currItems$find===void 0?void 0:_currItems$find.quantity)===1){return currItems.filter(function(item){return item.id!==id;});{/* if item is in cart with quantity of 1, item will be removed */}}else{return currItems.map(function(item){if(item.id===id){return _objectSpread(_objectSpread({},item),{},{quantity:item.quantity-1});{/* if item is in cart increase quantity */}}else{return item;}});}});};function removeFromCart(id){setCartItems(function(currItems){return currItems.filter(function(item){return item.id!==id;});});};return/*#__PURE__*/_jsxs(ShoppingCartContext.Provider,{value:{openCart:openCart,closeCart:closeCart,cartItems:cartItems,cartQuantity:cartQuantity,getItemQuantity:getItemQuantity,increaseCartQuantity:increaseCartQuantity,decreaseCartQuantity:decreaseCartQuantity,removeFromCart:removeFromCart},children:[children,/*#__PURE__*/_jsx(ShoppingCart,{isOpen:isOpen})]});}","map":{"version":3,"names":["createContext","useContext","useState","ShoppingCart","ShoppingCartContext","useShoppingCart","ShoppingCartProvider","children","isOpen","setIsOpen","cartItems","setCartItems","cartQuantity","reduce","quantity","item","openCart","closeCart","getItemQuantity","id","find","increaseCartQuantity","currItems","map","decreaseCartQuantity","filter","removeFromCart"],"sources":["/Users/kevingetz/Desktop/repos/wedding-gifts-stripe/client/src/context/ShoppingCartContext.js"],"sourcesContent":["import { createContext, useContext, useState } from \"react\";\nimport { ShoppingCart } from \"../components/ShoppingCart\";\nconst ShoppingCartContext = createContext({});\n\nexport function useShoppingCart() {\n  return useContext(ShoppingCartContext);\n}\n\nexport function ShoppingCartProvider( { children }) {\n    const [isOpen, setIsOpen] = useState(false)\n    const [cartItems, setCartItems] = useState([]);\n    const cartQuantity = cartItems.reduce(\n        (quantity, item) => item.quantity + quantity, 0\n    );\n\n    const openCart = () => setIsOpen(true);\n    const closeCart = () => setIsOpen(false);\n\n    function getItemQuantity(id){\n        return cartItems.find(item => item.id === id)?.quantity || 0 \n    };\n\n    function increaseCartQuantity(id){\n        setCartItems(currItems => {\n            if (currItems.find(item => item.id === id) == null) {\n                return[...currItems, { id, quantity: 1 }];\n                {/* if item is not in cart, add in new item and assign quantity of 1 */}\n            } else {\n                return currItems.map(item => {\n                    if (item.id === id) {\n                        return { ...item, quantity: item.quantity + 1 };\n                    {/* if item is in cart increase quantity */}\n                    } else {\n                        return item;\n                    }\n                })\n            }\n        })\n    };\n\n    function decreaseCartQuantity(id){\n        setCartItems(currItems => {\n            if (currItems.find(item => item.id === id)?.quantity === 1) {\n                return currItems.filter(item => item.id !== id);\n                {/* if item is in cart with quantity of 1, item will be removed */}\n            } else {\n                return currItems.map(item => {\n                    if (item.id === id) {\n                        return { ...item, quantity: item.quantity - 1 };\n                    {/* if item is in cart increase quantity */}\n                    } else {\n                        return item;\n                    }\n                })\n            }\n        })\n    };\n\n    function removeFromCart(id){\n        setCartItems(currItems => {\n            return currItems.filter(item => item.id !== id);\n        })\n    };\n\n    return (\n        <ShoppingCartContext.Provider value={{ openCart, closeCart, cartItems, cartQuantity, getItemQuantity, increaseCartQuantity, decreaseCartQuantity, removeFromCart }}>\n            {children}\n            <ShoppingCart isOpen={isOpen}/>\n        </ShoppingCartContext.Provider>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}